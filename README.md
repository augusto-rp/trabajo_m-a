<details>
<summary>ANTECEDENES TEORICOS</summary>


# Antecedentes te√≥ricos
Easton (1965) distingue entre dos tipos de apoyos a la democracia.


En primer lugar, el ‚Äúapoyo difuso‚Äù que es entendido como una predisposici√≥n a largo plazo de actitudes favorables hacia la democracia.

Y por otro lado el ‚Äúapoyo especifico‚Äù que se conceptualiza como la evaluaci√≥n que hacen los ciudadanos de los resultados del sistema a corto plazo.

En contextos de crisis institucional el apoyo difuso es relevante en tanto puede constituir ‚Äúreservas‚Äù de apoyo a la democracia que permite superar per√≠odos de bajo desempe√±o de las instituciones democr√°ticas, y con ello sostener las bases de legitimidad de la democracia.

El apoyo a la democracia como mejor sistema de gobierno ha sido entendida como una forma de ‚Äúapoyo difuso‚Äù. Esta es caracterizada como la creencia de que a pesar de sus problemas la democracia representa la mejor forma de gobierno posible. Al ser un indicador de apoyo difuso se espera que sus niveles sean menos influenciados por factores coyunturales, y m√°s por valores intr√≠nsecos asociados a la democracia y factores estructurales del funcionamiento pol√≠tico.



En relaci√≥n con esto √∫ltimo, Lipset (1959, citado en Alister Sanhueza et al., 2015) hipotetiza dos factores relevantes para determinar la estabilidad democr√°tica: desarrollo econ√≥mico y legitimidad de las instituciones. Seg√∫n este autor ambos corresponden a caracter√≠sticas estructurales de una sociedad necesarias para el sostenimiento de un sistema pol√≠tico democr√°tico. En l√≠nea con ello Acemoglu et al. (2019) hipotetizan una relaci√≥n de complementariedad entre las instituciones gubernamentales y causas proximales de desarrollo econ√≥mico, lo que se ver√≠a reflejado en que sistemas democr√°ticas fomentar√≠an mayores niveles de crecimiento. De ser este el caso, cabe preguntarse si la legitimidad de las instituciones democr√°ticas aumenta en la medida que aumenta el desarrollo econ√≥mico, o si, por el contrario, las actitudes individuales hacia una y otra dimensi√≥n son variables al margen de su posible asociaci√≥n te√≥rica. Adem√°s, tambi√©n resulta pertinente preguntarse si estos indicadores de estabilidad democr√°tica est√°n a su vez asociados a mayores niveles de apoyo a la democracia como mejor sistema de gobierno.





Por ejemplo, Hoffman-Lange (2024) no encontr√≥ una relaci√≥n estad√≠stica significativa entre apoyo a democracia y confianza en instituciones. La autora de esta investigaci√≥n explica este resultado hipotetizando, en oposici√≥n a Lipset, que la confianza en instituciones medir√≠a apoyo a instancias espec√≠ficas en vez de aspectos estructurales del sistema pol√≠tico.


Al indagar en las variables que en el caso chileno explican apoyo a la democracia, una investigaci√≥n de Alister Sanhueza et al. (2015) mostr√≥ que para democracias libres como es el caso de la chilena, factores coyunturales como la situaci√≥n econ√≥mica del pa√≠s y personal no tienen impacto significativo sobre el nivel de apoyo a la democracia (como si es el caso para pa√≠s parcialmente libres). Sin embargo, el mismo estudio mostr√≥ que la confianza en instituciones s√≠ puede tener impacto significativo en democracias libres sobre los niveles de apoyo a la democracia.


Sin embargo, Sep√∫lveda Rodr√≠guez (2021) mostr√≥ datos que evidenciaron variaciones anuales en el efecto de distintos factores sobre el apoyo a la democracia. Por ejemplo, la satisfacci√≥n con el funcionamiento de la econom√≠a s√≠ estaba asociado a mayor apoyo a la democracia, pero en los a√±os 2017 y 2018, no en el 2016. Por otro lado, si bien el autor no midi√≥ el impacto de la confianza en instituciones, s√≠ evalu√≥ la influencia de la confianza en partidos pol√≠ticos, los cuales tuvieron un efecto significativo en los niveles de apoyo a la democracia en los a√±os 2016 y 2017. La situaci√≥n econ√≥mico individual ha sido asociada a mayor apoyo a la democracia como sistema de gobierno, en especial en pa√≠ses con altos niveles de desigualdad donde el efecto de poseer mayores ingresos est√° asociado a un efecto a√∫n m√°s fuerte de apoyo a la democracia (Andersen, 2012). Sin embargo, no solo la situaci√≥n econ√≥mica personal real puede influir en el modo en que las personas eval√∫an el clima social y econ√≥mico, sino que tambi√©n puede influir la percepci√≥n subjetiva respecto al propio desempe√±o (Krasil‚Äônikova, 2022).




Estos resultados dan cuenta de que, al menos para el caso chileno, s√≠ parece haber un efecto coyuntural sobre la influencia de distintos componentes ‚Äúestructurales‚Äù del sistema pol√≠tico sobre el apoyo difuso a la democracia. Es decir, el apoyo a la democracia parece ser influenciado tambi√©n por evaluaciones cortoplacistas que hacen los individuos del funcionamiento institucional.


# Planteamiento del Problema

## Contexto Te√≥rico
Al analizar el **apoyo a la democracia** como mejor forma de gobierno, tradicionalmente se ha considerado que este responde principalmente a **factores estructurales de largo plazo**, menos susceptibles a variaciones coyunturales. Asimismo, factores determinantes de la estabilidad pol√≠tica como el **desarrollo econ√≥mico** y la **confianza en instituciones** han sido hipotetizados como elementos que operan de manera conjunta, asumi√©ndose una asociaci√≥n positiva entre ambos.

## Problema de Investigaci√≥n
Sin embargo, m√°s all√° de la asociaci√≥n te√≥rica entre desarrollo econ√≥mico y funcionamiento institucional, surge la pregunta fundamental:

> ¬øExiste realmente a nivel de la ciudadan√≠a una asociaci√≥n significativa entre estos dos factores?

---

## üéØ Objetivo 1

### Identificaci√≥n de Asociaciones Clave
**Analizar la relaci√≥n entre confianza institucional y percepci√≥n de desarrollo econ√≥mico del pa√≠s**

---

## Dimensiones Econ√≥micas y su Impacto

### Evidencia en el Contexto Chileno
La investigaci√≥n sobre el rol de la **situaci√≥n econ√≥mica del pa√≠s** en el apoyo a la democracia ha revelado:

- **Impacto significativo** de las variables econ√≥micas
- **Variabilidad temporal** en su influencia
- **Mayor efecto** durante per√≠odos eleccionarios

### Perspectivas Temporales y Subjetivas
Considerando que la evaluaci√≥n econ√≥mica puede medirse en distintas dimensiones:

| Dimensi√≥n | Enfoque |
|-----------|---------|
| **Corto plazo** | Situaci√≥n econ√≥mica actual |
| **Largo plazo** | Proyecciones futuras |
| **Objetiva** | Nivel socioecon√≥mico |
| **Subjetiva** | Percepci√≥n del desempe√±o econ√≥mico personal |

### Brecha Evaluativa
Surge la necesidad de explorar posibles **discrepancias evaluativas** en la poblaci√≥n respecto a estas dimensiones, para lo cual un nuevo objetivo es:

## üéØ Objetivo 2

### Identificaci√≥n de Perfiles Latentes
**Identificar distintos patrones de evaluaci√≥n de la situaci√≥n econ√≥mica personal y del pa√≠s, y su asociaci√≥n con el apoyo a la democracia**

#### Metodolog√≠a Propuesta
- **An√°lisis de perfiles latentes** para descubrir patrones subyacentes
- **Caracterizaci√≥n de grupos** seg√∫n sus percepciones econ√≥micas
- **Evaluaci√≥n comparativa** del apoyo democr√°tico entre perfiles

# Datos para utilizar y variables de inter√©s
Se trabajar√° con datos de la encuesta CEP (2025) m√°s recientes (Marzo-Abril, 2025), disponibles [aqui](https://www.cepchile.cl/encuesta/encuesta-cep-n-93-marzo-abril-2025/).

# Variables de Inter√©s

## Variable Dependiente
### Apoyo a la democracia
*¬øCon cu√°l de las siguientes frases est√° Ud. m√°s de acuerdo?*
- La democracia es preferible a cualquier otra forma de gobierno.
- En algunas circunstancias, un gobierno autoritario puede ser preferible a uno democr√°tico.
- A la gente como uno, le da lo mismo un r√©gimen democr√°tico que uno autoritario.

## Variables Independientes
### Percepci√≥n econ√≥mica
- Percepci√≥n de situaci√≥n econ√≥mica presente del pa√≠s
- Percepci√≥n de situaci√≥n econ√≥mica futura del pa√≠s  
- Percepci√≥n de situaci√≥n econ√≥mica propia

### Percepci√≥n de progreso
- Percepci√≥n de progreso del pa√≠s

### Confianza institucional
- Confianza en el congreso
- Confianza en el gobierno
- Confianza en municipalidades
- Confianza en tribunales de justicia
- Confianza en fiscal√≠a

## Variables de Caracterizaci√≥n Sociodemogr√°fica
### Caracter√≠sticas personales
- Sexo
- Edad
- Nivel socioecon√≥mico

# Referencias
Acemoglu, D., Naidu, S., Restrepo, P., & Robinson, J. A. (2019). Democracy Does Cause Growth. Journal of Political Economy, 127 (1), 47‚Äì100. https://doi.org/10.1086/700936.


Alister Sanhueza, C., Cea S√°nchez, C., & Guerrero Chinga, A. (2015). Democracia en Latinoam√©rica ¬ø qu√© factores influyen en la satisfacci√≥n y apoyo a la democracia? Fronteras , II (1), 85‚Äì113.



Andersen, R. (2012). Support for democracy in cross-national perspective: The detrimental effect of economic inequality. Research in Social Stratification and Mobility , 30 (4), 389‚Äì402. https://doi.org/10.1016/j.rssm.2012.04.002.


Centro de Estudios P√∫blicos. Estudio Nacional de Opini√≥n P√∫blica 93, marzo-abril 2025 [Computer File]. CEP0088-v1. Santiago: Centro de Estudios P√∫blicos.

Easton, David (1965) ‚ÄúThe Political System. An Inquiry into the State of Political Science‚Äù, New York: Knopf.

Hoffmann-Lange, U. (2024). The global development of value orientations , political support and democracy since the s. Frontiers in Political Scienceolitical Sience.


Krasil‚Äônikova, M. (2022). Subjective Perception of Economic Performance: Ongoing Assessments and the Factors Forming Them. Russian Politics & Law , 59 (1‚Äì3), 1‚Äì20. https://doi.org/10.1080/10611940.2022.2110833.


Sep√∫lveda Rodr√≠guez, I. (2021). An√°lisis de los Factores que influyen en las Actitudes de Apoyo a la Democracia como Sistema de Gobierno en Chile y Uruguay (2016-2018) [Tesis de Mag√≠ster en Gesti√≥n y Pol√≠ticas P√∫blicas]. Universidad de Chile.# trabajo_m-a

</details>



<details>
<summary>PREPARACION BASE DE DATOS/summary>
  
# **Preparacion de base de datos**


## Librer√≠as a usar

- `library(misty)` - Para an√°lisis de datos perdidos
- `library(mice)` - Para ver patrones de datos perdidos
- `library(ggplot2)` - Para creaci√≥n de gr√°ficos
- `library(psych)` - Para estad√≠sticos descriptivos
- `library(corrplot)` - Para gr√°ficos de correlaciones
- `library(dplyr)` - Para manipulaci√≥n de datos
- `library(poLCA)` - Para an√°lisis de clases latentes
- `library(gmodels)` - Para tablas de contingencia y chi-cuadrado
- `library(stargazer)` - Para comparaci√≥n de modelos de regresi√≥n

## Preparaci√≥n de base de datos

**1. Primero debemos cargar la base de datos**

```r
base <- read.csv("bd/base_93.csv", header = TRUE)


**2. Luego seleccionaremos las variables de inter√©s**

```r
df <- base[, c("id_bu", "sexo", "edad", "eval_gob_1", "percepcion_2", 
               "percepcion_3", "percepcion_4", "percepcion_5", "percepcion_6",
               "democracia_21", "confianza_6_d", "confianza_6_i", "confianza_6_k",
               "confianza_6_o", "confianza_6_p")]
```

Las variables que estamos seleccionando son las siguientes:

- **Variable dependiente:**
  - Apoyo a la democracia: `democracia_21`

- **Variables independientes:**
  - **Relativas a Econom√≠a:**
    - Situaci√≥n econ√≥mica presente del pa√≠s: `percepcion_2`
    - Situaci√≥n econ√≥mica futura del pa√≠s: `percepcion_3`
    - Situaci√≥n econ√≥mica personal presente: `percepcion_5`
    - Situaci√≥n econ√≥mica personal futura: `percepcion_6`
  
  - **Relativas a Confianza:**
    - Confianza en tribunales: `confianza_6_d`
    - Confianza en gobierno: `confianza_6_i`
    - Confianza en congreso: `confianza_6_k`
    - Confianza en municipalidades: `confianza_6_o`
    - Confianza en fiscal√≠a: `confianza_6_p`

- **Variables de caracterizaci√≥n sociodemogr√°fica:**
  - Sexo: `sexo`
  - Edad: `edad`

- **Otras variables para exploraci√≥n:**
  - Aprobaci√≥n al gobierno: `eval_gob_1`
  - Percepci√≥n de progreso pol√≠tico de pa√≠s: `percepcion_4`

**3. Tratamiento de datos perdidos**

Adem√°s debemos modificar la base de datos para que lea valores como NA:

```r
df[df == -8 | df == -9 | df == 88 | df == 99] <- NA
```

Usando el comando `na.test(df)` podemos observar que los datos perdidos no se pierden aleatoriamente. Es decir, hay alg√∫n patr√≥n en los datos que se pierden.

```r
sapply(df, function(x) sum(is.na(x)))
```

Muestra que la mayor√≠a de datos perdidos est√°n en preguntas de apoyo a la democracia y confianza a instituciones.

En la carpeta [gr√°ficos e im√°genes](https://github.com/augusto-rp/trabajo_m-a/tree/main/graficos%20e%20imagenes) se puede ver un gr√°fico que muestra la frecuencia de datos perdidos.

Sin embargo, por un tema de conveniencia no se realizar√°n imputaciones, sino que se eliminar√°n los 263 individuos que tienen al menos un dato perdido (17% de muestra total). 

**IMPORTANTE**: Esta no es una pr√°ctica recomendada.

```r
df <- na.omit(df)
```

**4. Inversion de items**

Hay varios √≠tems donde el valor 1 indica una visi√≥n m√°s "optimista" o de "mayor confianza", mientras que en otros pasa lo contrario. Para facilitar la interpretaci√≥n se invertir√°n estos √≠tems.

**No se invertir√°n √≠tems de confianza pues en este caso todos tienen el mismo ordenamiento.**

**Percepci√≥n futuro econ√≥mico del pa√≠s:**
```r
df$percepcion_3 <- ifelse(df$percepcion_3 == 1, 3,
                         ifelse(df$percepcion_3 == 2, 2,
                                ifelse(df$percepcion_3 == 3, 1, df$percepcion_3)))
```

**Percepci√≥n progreso del pa√≠s:**
```r
df$percepcion_4 <- ifelse(df$percepcion_4 == 1, 3,
                         ifelse(df$percepcion_4 == 2, 2,
                                ifelse(df$percepcion_4 == 3, 1, df$percepcion_4)))
```

**Percepci√≥n futuro econ√≥mico personal:**
```r
df$percepcion_6 <- ifelse(df$percepcion_6 == 1, 5,
                         ifelse(df$percepcion_6 == 2, 4,
                                ifelse(df$percepcion_6 == 3, 3,
                                       ifelse(df$percepcion_6 == 4, 2,
                                              ifelse(df$percepcion_6 == 5, 1, df$percepcion_6)))))
```

**Apoyo a democracia:**
```r
df$democracia_21 <- ifelse(df$democracia_21 == 1, 3,
                          ifelse(df$democracia_21 == 2, 2,
                                 ifelse(df$democracia_21 == 3, 1, df$democracia_21)))
```

**Aprobaci√≥n a gobierno:**
```r
df$eval_gob_1 <- ifelse(df$eval_gob_1 == 1, 3,    # Aprueba es 3
                       ifelse(df$eval_gob_1 == 2, 1,    # Desaprueba es 1
                              ifelse(df$eval_gob_1 == 3, 2, df$eval_gob_1)))  # Neutral es 2
```

**5.¬øHace sentido considerar juntos los √≠tems de confiabilidad?**


**Consistencia interna de √≠tems**

```r
confianza_items <- df[, c("confianza_6_d","confianza_6_i","confianza_6_k","confianza_6_o", "confianza_6_p")]
alpha(confianza_items)
```
El valor nos indica una buena consistencia entre los √≠tems, por lo que se construir√° una √∫nica variable que considere el promedio de todos los √≠tems `confianza_i`
```r
df$confianza_i <- rowMeans(confianza_items)
```
Adem√°s, esta si la invertiremos
```r
df$confianza_i <- 5- df$confianza_i
```

**6.Exploraci√≥n de correlaciones entre variables**

Este paso con fines exploratorios

```r
cor_matrix2 <- round(cor(df[, c("percepcion_2", "percepcion_3", "percepcion_4", "percepcion_5", "percepcion_6", "democracia_21", "confianza_i")], use="pairwise.complete.obs"), 2)
print(cor_matrix2)
```
[Ac√° se puede encontrar un grafico de las correlaciones](https://github.com/augusto-rp/trabajo_m-a/blob/main/graficos%20e%20imagenes/correlaciones_variables.jpeg)


**7.Crear base de datos nueva con estos cambios**

```r
write.csv(df, "bd_limpia/base_93_limpia.csv", row.names = FALSE)
```

</details>

<details>
<summary>PLAN DE ANALISIS LCA/summary>


# **Plan de an√°lisis**

**1.Pasos de preparacion para analisis**

Debido a que las escalas con que se miden las variables de percepcion econ√≥mica son ordinales realziar un LPA (An√°lisis de eprfiles latentes) no es lo m√°s adecuado.
Es ahi donde un An√°lisis de CLases Latentes resultado m√°s √∫til. SIn emabrgo en df hay que asegurarnos que estas variables esten debidamente catalogadas


```r
df$percepcion_2<-as.numeric(df$percepcion_2)
df$percepcion_3<-as.numeric(df$percepcion_3)
df$percepcion_5<-as.numeric(df$percepcion_5)
df$percepcion_6<-as.numeric(df$percepcion_6)
df$sexo<-as.factor(df$sexo) -aprovechamos de factorizar que no lo habiamos hechp
```

Hacer un string de las variables de interes: percepcion_2, percepcion_3, percepcion_5, percepcion_6

```r
variables<- cbind(percepcion_2, percepcion_3, percepcion_5, percepcion_6) ~ 1
```

**2.Estimacion de modelo con distintos numeros de clases**

üíÄ ## **ATENCION, CORRER ESTE CODIGOS VA A RALENTIZAR MUCHO SU COMPUTADOR** üíÄ

Recomiendo cambiar el numero de repeticiones a 50 o 10.

```r
set.seed(3141)
objetoLCA_2<-poLCA(variables, df, nclass=2, nrep=500, maxiter=1000, graphs=T)
set.seed(3141)
objetoLCA_3<-poLCA(variables, df, nclass=3, nrep=500, maxiter=1000, graphs=T)
set.seed(3141)
objetoLCA_4<-poLCA(variables, df, nclass=4, nrep=500, maxiter=1000, graphs=T)
set.seed(3141)
objetoLCA_5<-poLCA(variables, df, nclass=5, nrep=500, maxiter=1000, graphs=T)
#Hay una clase con menos de 5% por lo que no es recomendable este modelo
set.seed(3141)
objetoLCA_6<-poLCA(variables, df, nclass=6, nrep=500, maxiter=1000, graphs=T)
#no converge!!!
```

**3.Comparacion de BIC y AIC**

El BIC es el criterio de informaci√≥n m√°s √∫til para comparar modelos ya que privilegia m√°s modelos m√°s parsimoniosos.
Para construir una tabla de comparacion de los valores entre distintos modelos usamos el siguietne comando

```r
valor = c(objetoLCA_2$aic,objetoLCA_3$aic,objetoLCA_4$aic,objetoLCA_5$aic,
          objetoLCA_2$bic,objetoLCA_3$bic,objetoLCA_4$bic, objetoLCA_5$bic)

indice = c("aic", "aic", "aic","aic",
           "bic", "bic", "bic", "bic")

cantidad = c("2c", "3c", "4c", "5c",
             "2c", "3c", "4c", "5c")

n_clases = cbind.data.frame(cantidad,indice,valor)
n_clases
```

###La entropia tambi√©n es un valor importante, que nos dice que tn distintas son las clases entre si

```r
poLCA.entropy(objetoLCA_3) 
poLCA.entropy(objetoLCA_4)
#Valores no estandarizados, entre m√°s altos mejor.
```

**4.Interpretar modelos**

Si bien lo anterior es un paso importante tambi√©n es relevante ver la interpretabilidad de los distintos modelos
¬øHace sentido las clases que genera? ¬øQue informaci√≥n nos aporta? ¬øQue ganamos al agregar o reducir una clase para caracterizar la poblaci√≥n?

Si vemos el output de los modelos que son candidatos para nuestra seleccion podemos ver cu√°l es la proporcion esperada de individuos en cada clase que entregue determianda respuesta

```r
objetoLCA_(N)
```

En base a eso podemos ver como en una clase m√°s del 75% de los individuos tienden a votar en una direcci√≥n u otra. 

**5.Crear variable de clasificacion en df **

Una vez que hemos seleccionado nuestro modelo creamos una columna en la base de datos que clasifica cada individuo en la clase donde es m√°s probable que pertenezca

```r
df$clase_n <- objetoLCA_n$predclass
df$clase_n<-as.factor(df$clase_n)
#Aprovechemos de factorizar al tiro!
```


Y ahora sobreescribimos la base de datos limpia que creamos en la seccion anterior

```r
write.csv(df, "bd_limpia/base_93_limpia.csv", row.names = FALSE)
```

</details>
